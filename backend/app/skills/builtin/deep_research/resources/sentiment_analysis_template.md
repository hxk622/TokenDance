# 舆情分析场景模板

> 基于 Deep Research Skill 的舆情分析专项扩展
> 参考：BettaFish (微舆) 多Agent舆情分析系统

## 场景定位

舆情分析是 Deep Research 的**垂直应用场景**，而非独立 Skill。本模板提供：
- 舆情专属的搜索策略
- 情感分析框架
- 多平台覆盖指南
- 报告输出模板

## 使用方式

当用户意图包含以下关键词时，自动加载此模板：
- "舆情"、"舆论"、"口碑"
- "品牌声誉"、"公关危机"
- "网友评论"、"社交媒体反馈"
- "热点追踪"、"话题分析"

## 舆情分析工作流程

### Phase 1: 范围界定
```
1. 确定分析对象
   - 品牌/产品/人物/事件？
   - 时间范围（近7天/30天/自定义）
   
2. 确定平台范围
   - 综合平台：微博、知乎、百度
   - 视频平台：抖音、快手、B站
   - 社区平台：小红书、豆瓣
   - 资讯平台：今日头条、网易新闻
   
3. 确定分析维度
   - 声量趋势、情感倾向
   - 热点话题、传播路径
   - KOL观点、用户画像
```

### Phase 2: 数据采集策略

#### 2.1 搜索 Query 生成规则
```python
def generate_sentiment_queries(subject: str, platform: str) -> list[str]:
    """生成舆情分析搜索查询"""
    base_queries = [
        f"{subject}",
        f"{subject} 评价",
        f"{subject} 口碑",
        f"{subject} 争议",
        f"{subject} 用户反馈",
    ]
    
    platform_specific = {
        "微博": [f"#{subject}#", f"{subject} 热搜"],
        "小红书": [f"{subject} 测评", f"{subject} 避雷"],
        "知乎": [f"如何评价{subject}", f"{subject} 怎么样"],
        "B站": [f"{subject} 测评", f"{subject} UP主"],
    }
    
    return base_queries + platform_specific.get(platform, [])
```

#### 2.2 平台优先级
| 优先级 | 平台 | 特点 | 适用场景 |
|--------|------|------|----------|
| ⭐⭐⭐ | 微博 | 热点传播快 | 突发事件、公关危机 |
| ⭐⭐⭐ | 小红书 | UGC真实评价 | 消费品、美妆、生活方式 |
| ⭐⭐⭐ | 知乎 | 深度讨论 | 科技产品、职场、教育 |
| ⭐⭐ | 抖音/快手 | 视频内容 | 网红、娱乐、本地生活 |
| ⭐⭐ | B站 | 年轻用户 | 游戏、二次元、数码 |
| ⭐ | 豆瓣 | 文艺属性 | 影视、图书、文化 |

### Phase 3: 情感分析框架

#### 3.1 情感分类
```yaml
sentiment_categories:
  positive:
    keywords: ["好评", "推荐", "满意", "惊喜", "神器", "yyds", "绝绝子"]
    weight: +1
    
  negative:
    keywords: ["差评", "避雷", "踩雷", "翻车", "失望", "坑", "智商税"]
    weight: -1
    
  neutral:
    keywords: ["一般", "中规中矩", "还行", "凑合"]
    weight: 0
    
  ambiguous:
    keywords: ["又爱又恨", "看情况", "因人而异"]
    weight: 0
```

#### 3.2 情感评分计算
```
总体情感得分 = (正面内容数 × 1 + 中性内容数 × 0 + 负面内容数 × -1) / 总内容数

情感分布：
- 正面占比 > 60%：口碑良好 ✅
- 正面占比 40-60%：口碑中性 ⚠️
- 正面占比 < 40%：口碑负面 ❌
```

### Phase 4: 关键发现提取

#### 4.1 热点话题识别
```markdown
## 热点话题 TOP 5

| 排名 | 话题 | 讨论量 | 情感倾向 | 代表观点 |
|------|------|--------|----------|----------|
| 1 | [话题1] | 1.2万 | 正面 | "..." |
| 2 | [话题2] | 8000 | 负面 | "..." |
| ... | ... | ... | ... | ... |
```

#### 4.2 KOL 观点汇总
```markdown
## KOL 观点

### 正面声音
- **@KOL1** (粉丝数): "..."
- **@KOL2** (粉丝数): "..."

### 负面声音
- **@KOL3** (粉丝数): "..."

### 中立分析
- **@KOL4** (粉丝数): "..."
```

#### 4.3 用户典型反馈
```markdown
## 用户声音摘录

### 好评代表
> "..." — 来自微博 @用户A

### 差评代表
> "..." — 来自小红书 @用户B

### 建议反馈
> "..." — 来自知乎 匿名用户
```

## 舆情报告输出模板

```markdown
# [分析对象] 舆情分析报告

**报告周期**: YYYY-MM-DD 至 YYYY-MM-DD
**数据来源**: 微博、小红书、知乎、抖音等
**分析工具**: TokenDance Deep Research

---

## 📊 核心指标

| 指标 | 数值 | 环比 |
|------|------|------|
| 总声量 | XXX 条 | +XX% |
| 正面占比 | XX% | +X% |
| 负面占比 | XX% | -X% |
| 情感得分 | X.X/5 | +0.X |

## 📈 声量趋势

[描述近期声量变化趋势，如有异常波动需特别说明]

## 🔥 热点话题 TOP 5

[列表形式展示]

## 💬 情感分析

### 正面反馈集中点
1. ...
2. ...

### 负面反馈集中点
1. ...
2. ...

### 中性/建设性意见
1. ...

## 🎯 KOL 观点汇总

[正面/负面/中立分类展示]

## 📝 典型用户声音

[好评/差评/建议分类展示]

## 🚨 风险预警

[如有潜在风险点，列出并给出建议]

## 💡 行动建议

1. 短期建议（1-7天）
2. 中期建议（1-4周）
3. 长期建议（1-3月）

---

**数据说明**:
- 数据采集时间: YYYY-MM-DD HH:MM
- 采集范围: [平台列表]
- 声量统计口径: [说明]

**免责声明**:
本报告基于公开网络数据分析，仅供参考，不构成任何决策依据。
```

## 与 BettaFish 的差异

| 维度 | BettaFish | TokenDance 方案 |
|------|-----------|-----------------|
| 定位 | 独立舆情系统 | Deep Research 场景模板 |
| 数据源 | 自建爬虫 | 搜索引擎 + 浏览器自动化 |
| 情感模型 | 微调 BERT/Qwen | 基于 LLM 的 Prompt 分析 |
| 部署复杂度 | 高（需配置爬虫） | 低（即用即走） |
| 覆盖平台 | 30+ | 依赖搜索可达性 |
| 合规风险 | 需注意爬虫合规 | 较低（基于公开搜索） |

## 局限性说明

1. **数据覆盖**：依赖搜索引擎可检索到的内容，无法获取私域数据
2. **实时性**：非实时监控，适合定期分析而非 7×24 预警
3. **深度**：无法下钻到评论区级别，除非使用浏览器自动化
4. **合规**：不提供自动爬虫，避免法律风险

## 进阶：与 BettaFish 集成（可选）

如需更强大的舆情能力，可考虑：
1. 将 BettaFish 部署为独立服务
2. 通过 MCP (Model Context Protocol) 接入 TokenDance
3. 实现数据采集与分析的分离

```yaml
# 示例 MCP 配置
mcp_servers:
  - id: bettafish
    name: BettaFish 舆情引擎
    endpoint: http://localhost:8080
    capabilities:
      - sentiment_analysis
      - social_media_search
      - report_generation
```
